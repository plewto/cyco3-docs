<!DOCTYPE HTML>
<html lang="en">

  <head>
      <meta charset="UTF-8">
      <meta name="robots" content="index,follow,archive">
      <link rel="stylesheet" type="text/css" href="style.css"/>
      <title>Metrics</title>
      <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'/>
      <link href='https://fonts.googleapis.com/css?family=PT+Serif' rel='stylesheet' type='text/css'/>
      <link href='https://fonts.googleapis.com/css?family=Ubuntu+Mono' rel='stylesheet' type='text/css'/>
  </head>
  
<body lang="en-US">
  <a id="top"></a>
  <a href=index.html class="link">Home</a> &nbsp;<a href=dynamics.html class="navigation">Previous: dynamics </a> &nbsp;<a href=midi-events.html class="navigation">Next: midi-events </a> &nbsp;<a href=contents.html class="navigation">Contents </a> &nbsp;
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <img class="center" src="images/metrics.png" alt="metrics"/>
  <h1 class="banner">CYCO Metrics</h1>
  <ul class='quick-jump'>
    <li>Quick Jump:</li>
      <li><a href='#metric-p'>metric-p</a></li>
      <li><a href='#metric'>metric</a></li>
      <li><a href='#metric-expression'>metric-expression</a></li>
      <li><a href='#metric-expression-p'>metric-expression-p</a></li>
  </ul>
  <p class="body">
    <i>Metrics</i> are relative values used for note duration and delay times.
    The basic metric values are:
  </p>
  <pre class="code">
        W     4    - Whole note
        H     2    - Half
        Q     1    - Quarter
        E     1/2  - Eighth
        S     1/4  - Sixteenth
        T     1/8  - Thirty-second
        X     1/16 - Sixty-fourth
        R     -1   - A rest, has no intrinsic duration.
  </pre>
  <p class="body">
    Dotted durations are formed by appending any number of dots '.' to the base
    symbol.<br>Each dot scales the value by 3/2.
  </p>
  <pre class="code">
        Q.     9/4  - dotted quarter note
        Q..    27/8 - double dotted quarter note
        Q...   81/16
  </pre>
  <p class="body">
    Triplets are formed by appending any number of Ts.  
    <br>Each t scales the value by 2/3.
  </p>
  <pre class="code">
        QT    2/3 - quarter note triplet
        QTT   4/9 
        QTTT  8/27
  </pre>
  <H3 class="heading">Metric Functions</H3>
  <a id="metric-p"></a>
  
  <!-- (METRIC-P object) -->
  <!--  -->
  <!--  -->
  <b class="definition">(METRIC-P object)</b><br>
  <p class="summery">Predicate, true if object is a valid metric value.</p>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <a id="metric"></a>
  
  <!-- (METRIC object) -->
  <!--  -->
  <!--  -->
  <b class="definition">(METRIC object)</b><br>
  <p class="summery">Converts object to its metric value.</p>
  <pre class="description">
    (METRIC 3.4)  &rarr; 3.4  Numeric values are preserved.
    (METRIC -123) &rarr; -123  
    (METRIC 'Q)   &rarr; 1.0 quarter note.
    (METRIC 'E.)  &rarr; 0.75 dotted eighth note.
    (METRIC 'ST)  &rarr; ~0.1667 sixteenth note triplet.
    
    METRIC may be applied to list.
    	
    (METRIC '(W H (Q E))) &rarr; (4.0 2.0 (1.0 0.5))
  </pre>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <H3 class="heading">Metric Expressions</H3>
  <p class="body">
    A <i>metric-expression</i> allows complex durations by combining
    the basic metric symbols.  In general a metric-expression is a symbol
    with the following form:
  </p>
  <pre class="code">
        [s*]a[-|+b][-|+c]...
    	
        Elements in square brackets are optional.
    	-|+ indicates either a minus or plus sign.
    	
    	[s*] is an optional numeric scalar applied to the expression to its
    	     right. 
    
        a, b & c are basic metric values as described above.
  </pre>
  <H6 class="heading">Examples</H6>
  <pre class="code">
        W+Q    &rarr; Add whole and quarter notes.
    	W-S.   &rarr; Subtract dotted sixteenth note from whole note.
    	W+Q+S  &rarr; Add whole, quarter and sixteenth notes.
    	
    	The optional scaling factor is applied -AFTER- all addition and
    	subtractions. 
    	
    	3*W+S  &rarr; First add sixteenth note to whole note, then scale by 3.0
  </pre>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <a id="metric-expression"></a>
  
  <!-- (METRIC-EXPRESSION expression) -->
  <!--  -->
  <!--  -->
  <b class="definition">(METRIC-EXPRESSION expression)</b><br>
  <p class="summery">Evaluate the metric-expression and return numeric result.</p>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <a id="metric-expression-p"></a>
  
  <!-- (METRIC-EXPRESSION-P object) -->
  <!--  -->
  <!--  -->
  <b class="definition">(METRIC-EXPRESSION-P object)</b><br>
  <p class="summery">Predicate, true if object is a valid metric expression.</p>
  <pre class="description">
     Note: To determine if object is a metric-expression an attempt is made
     at evaluating it, which is relatively expensive.   METRIC-EXPRESSION-P 
     returns either nil or the value of the expression.
  </pre>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <a href=index.html class="link">Home</a> &nbsp;<a href=dynamics.html class="navigation">Previous: dynamics </a> &nbsp;<a href=midi-events.html class="navigation">Next: midi-events </a> &nbsp;<a href=#top class="navigation">Top </a> &nbsp;<a href=contents.html class="navigation">Contents </a> &nbsp;
  
</body>
</html>