<!DOCTYPE HTML>
<html lang="en">

  <head>
      <meta charset="UTF-8">
      <meta name="robots" content="index,follow,archive">
      <meta name="keywords" content="NIL">
      <link rel="stylesheet" type="text/css" href="style.css"/>
      <title>Generators</title>
      <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'/>
      <link href='https://fonts.googleapis.com/css?family=PT+Serif' rel='stylesheet' type='text/css'/>
      <link href='https://fonts.googleapis.com/css?family=Ubuntu+Mono' rel='stylesheet' type='text/css'/>
  </head>
  
<body lang="en-US">
  <a id="top"></a>
  <a href=index.html class="link">Home</a> &nbsp;<a href=patterns.html class="navigation">Previous: patterns </a> &nbsp;<a href=counter.html class="navigation">Next: counter </a> &nbsp;<a href=contents.html class="navigation">Contents </a> &nbsp;
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <h1 class="banner">Generators</h1>
  <ul class='quick-jump'>
    <li>Quick Jump:</li>
      <li><a href='#functions'>Generic functions</a></li>
      <li><a href='#reset'>reset</a></li>
      <li><a href='#clone'>clone</a></li>
      <li><a href='#next-1'>next-1</a></li>
      <li><a href='#next-n'>next-n</a></li>
      <li><a href='#next'>next</a></li>
      <li><a href='#value-hook'>value-hook</a></li>
      <li><a href='#value'>value</a></li>
      <li><a href='#internal-value'>internal-value</a></li>
      <li><a href='#monitor'>monitor</a></li>
      <li><a href='#action'>action</a></li>
      <li><a href='#constant-value'>constant-value</a></li>
  </ul>
  <p class="body">
    <b>Generators</b> are similar to Patterns except they
    only produce numeric results and may not have nested components.
    Generators may however be elements of a pattern.
  </p>
  <p class="body">
    The generic functions <b>VALUE</b>, <b>NEXT-1</b> and <b>NEXT</b> function the same
    for generators and patterns, except there is no :ALL or :REST options.
    Additionally generators have a value-hook function which is
    applied to the 'natural' value before being returned by the VALUE
    method.
  </p>
  <p class="body">
    Each generator instances has a pair of functions called <em>MONITOR</em> and <em>ACTION</em>.
    The monitor is a predicate called by NEXT-1.  If the monitor returns true for the current value, then the
    action function is executed.  The lambda form for the action function is specific to each generator type,
    in some cases it may modify the internal state of the generator.
  </p>
  <a id="functions"></a>
  <H3 class="heading">Functions on Generators</H3>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <a id="reset"></a>
  
  <!-- (RESET generator) -->
  <!--  -->
  <!--  -->
  <b class="definition">(RESET generator)</b><br>
  <p class="summery">Resets generator to initial state, returns generator.</p>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <a id="clone"></a>
  
  <!-- (CLONE generator) -->
  <!--  -->
  <!--  -->
  <b class="definition">(CLONE generator)</b><br>
  <p class="summery">Returns new generator which is an exact copy of the original.</p>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <a id="next-1"></a>
  
  <!-- (NEXT-1 generator) -->
  <!--  -->
  <!--  -->
  <b class="definition">(NEXT-1 generator)</b><br>
  <p class="summery">Returns the next value from generator.</p>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <a id="next-n"></a>
  
  <!-- (NEXT-N generator n) -->
  <!--  -->
  <!--  -->
  <b class="definition">(NEXT-N generator n)</b><br>
  <p class="summery">Returns list of next n generator values.</p>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <a id="next"></a>
  
  <!-- (NEXT generator &optional n) -->
  <!--  -->
  <!--  -->
  <b class="definition">(NEXT generator &optional n)</b><br>
  <p class="summery">Returns next value from generator.</p>
  <pre class="description">
    By default NEXT acts exactly like NEXT-1.  If the optional n argument is an integer
    it behaves like (NEXT-n generator n) and returns a list of n values.
  </pre>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <a id="value-hook"></a>
  
  <!-- (VALUE-HOOK generator) -->
  <!--  -->
  <!--  -->
  <b class="definition">(VALUE-HOOK generator)</b><br>
  <p class="summery">Returns the hook function applied to the internal-value.<br>
  The default function is the identity (lambda (n) n)</p>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <a id="internal-value"></a>
  
  <!-- (INTERNAL-VALUE generator) -->
  <!--  -->
  <!--  -->
  <b class="definition">(INTERNAL-VALUE generator)</b><br>
  <p class="summery">Returns the current internal value of the generator.</p>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <a id="value"></a>
  
  <!-- (VALUE generator) -->
  <!--  -->
  <!--  -->
  <b class="definition">(VALUE generator)</b><br>
  <p class="summery">Returns the result of applying the hook function to the internal-value.</p>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <a id="monitor"></a>
  
  <!-- (MONITOR generator) -->
  <!--  -->
  <!--  -->
  <b class="definition">(MONITOR generator)</b><br>
  <p class="summery">Returns the monitor function.</p>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <a id="action"></a>
  
  <!-- (ACTION generator) -->
  <!--  -->
  <!--  -->
  <b class="definition">(ACTION generator)</b><br>
  <p class="summery">Returns the action function.</p>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <a id="constant-value"></a>
  
  <!-- (CONSTANT-VALUE value) -->
  <!--  -->
  <!--  -->
  <b class="definition">(CONSTANT-VALUE value)</b><br>
  <p class="summery">Returns a generator with a constant value.</p>
  <pre class="description">
    
    (param foo (constant-value 13))
    (next foo 3) &rarr; (13 13 13)
  </pre>
  <hr style='height:4px;border-width:0;color:green;background-color:gray'/>
  <a href=index.html class="link">Home</a> &nbsp;<a href=patterns.html class="navigation">Previous: patterns </a> &nbsp;<a href=counter.html class="navigation">Next: counter </a> &nbsp;<a href=#top class="navigation">Top </a> &nbsp;<a href=contents.html class="navigation">Contents </a> &nbsp;
  
</body>
</html>